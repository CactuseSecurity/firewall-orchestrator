query getUsageDataCount($devId: Int!) {
  device(where: {dev_id: {_eq: $devId}}) {
    rulebase_on_gateways {
      rulebase {
        rulesWithHits: rule_metadata_aggregate(where: {rule_last_hit: {_is_null: false}}) {
          aggregate {
            count
          }
        }
      }
    }
  }
}
