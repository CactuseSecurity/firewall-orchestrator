@using FWO.Api.Data

@typeparam InputDataType

@if (Data != null && FetchObjects != null && NameExtractor != null&& NetworkObjectExtractor != null && NetworkServiceExtractor != null && NetworkUserExtractor != null)
{
    @foreach (InputDataType obj in Data)
    {
        <ObjectGroup FetchObjects="FetchObjects" Tab="Tab" StartCollapsed="StartCollapsed" StartContentDetailed="StartContentDetailed" InputDataType="InputDataType" InitialContent="obj" NameExtractor="NameExtractor"
                     NetworkObjectExtractor="NetworkObjectExtractor"
                     NetworkServiceExtractor="NetworkServiceExtractor"
                     NetworkUserExtractor="NetworkUserExtractor" />
    }
}

@code
{
    [Parameter]
    public Func<byte, Func<Management[], Task>, long, Task>? FetchObjects { get; set; }

    [Parameter]
    public byte Tab { get; set; }

    [Parameter]
    public int PageSize { get; set; }

    [Parameter]
    public bool StartCollapsed { get; set; } = true;

    [Parameter]
    public bool StartContentDetailed { get; set; } = false;

    [Parameter]
    public IEnumerable<InputDataType>? Data { get; set; }

    [Parameter]
    public Func<InputDataType, string>? NameExtractor { get; set; }

    [Parameter]
    public Func<InputDataType, IEnumerable<NetworkObject>>? NetworkObjectExtractor { get; set; }

    [Parameter]
    public Func<InputDataType, IEnumerable<NetworkService>>? NetworkServiceExtractor { get; set; }

    [Parameter]
    public Func<InputDataType, IEnumerable<NetworkUser>>? NetworkUserExtractor { get; set; }
}